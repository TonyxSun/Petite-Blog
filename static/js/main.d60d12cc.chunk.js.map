{"version":3,"sources":["BlogList.js","useFetch.js","Home.js","Navbar.js","Create.js","BlogDetails.js","NotFound.js","App.js","index.js"],"names":["BlogList","blogs","title","className","map","blog","to","id","author","useFetch","url","useState","data","setData","isPending","setIsPending","error","setError","useEffect","abortCont","AbortController","fetch","signal","then","res","ok","Error","json","catch","err","name","console","log","message","abort","Home","Navbar","Create","setTitle","body","setBody","setAuthor","history","useHistory","onSubmit","e","preventDefault","method","headers","JSON","stringify","push","type","required","value","onChange","target","disabled","BlogDetails","useParams","onClick","NotFound","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d60d12cc.chunk.js","sourcesContent":["import { Link } from \"react-router-dom\";\n\nconst BlogList = ({ blogs, title }) => {\n  return (\n    <div className=\"blog-list\">\n      <h2>{ title }</h2>\n      {blogs.map(blog => (\n        <div className=\"blog-preview\" key={blog.id} >\n          <Link to={`/blogs/${blog.id}`}>\n          <h2>{ blog.title }</h2>\n          <p>Written by { blog.author }</p></Link>\n        </div>\n      ))}\n    </div>\n  );\n}\n \nexport default BlogList;","import { useState, useEffect } from \"react\";\n\n\nconst useFetch = (url) => {\n  const [data, setData] = useState(null);\n  const [isPending, setIsPending] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const abortCont = new AbortController();\n\n    fetch(url, { signal: abortCont.signal })\n      .then(res => {\n        if (!res.ok) {\n          throw Error('Did not fetch data.');\n        }\n        return res.json();\n      })\n      .then(data => {\n        setData(data);\n        setIsPending(false);\n        setError(null);\n      })\n      .catch(err => {\n        if (err.name === 'AbortError') {\n          console.log('fetch aborted');\n        } else {\n          setIsPending(false);\n          setError(err.message);\n        }\n      });\n\n    return () => abortCont.abort();\n  }, [url]);\n  return { data, isPending, error };\n}\n\nexport default useFetch;","// import { useState, useEffect } from \"react\";\nimport BlogList from \"./BlogList\";\nimport useFetch from './useFetch';\n\nconst Home = () => {\n  const {data: blogs, isPending, error} = useFetch('https://my-json-server.typicode.com/tonyxsun/Petite-Blog/db')\n\n  return (\n    <div className=\"home\">\n      {error && <div>{error}</div>}\n      {isPending && <div> Loading...</div>}\n      {blogs && <BlogList blogs={blogs} title=\"All Blogs\" />}\n    </div>\n  );\n}\n\nexport default Home;","import { Link} from 'react-router-dom';\n\nconst Navbar = () => {\n    return (\n      <nav className=\"navbar\">\n        <h1>The Dojo Blog</h1>\n        <div className=\"links\">\n          <Link to=\"/\">Home</Link>\n          <Link to=\"/create\">New Blog</Link>\n        </div>\n      </nav>\n    );\n  }\n   \n  export default Navbar;","import { useState } from \"react\";\nimport {useHistory} from 'react-router-dom';\n\nconst Create = () => {\n    const [title, setTitle] = useState('');\n    const [body, setBody] = useState('');\n    const [author, setAuthor] = useState('mario');\n    const [isPending, setIsPending] = useState(false);\n    const history = useHistory();\n\n    const handleSubmit = (e) => { \n        e.preventDefault();\n        const blog = {title, body, author};\n        setIsPending(true);\n        fetch('https://my-json-server.typicode.com/tonyxsun/Petite-Blog/db', {\n            method: 'POST',\n            headers: {\"Content-Type\": \"application/json\"},\n            body: JSON.stringify(blog)\n        }).then(()=> {\n            console.log('created blog');\n            setIsPending(false);\n            history.push('/');\n        })\n    };\n\n\n    return (<div className=\"create\">\n        <h2>Add new blog</h2>\n        <form onSubmit={handleSubmit}>\n            <label>Blog title:</label>\n            <input\n                type=\"text\"\n                required\n                value={title}\n                onChange={(e) => setTitle(e.target.value)}\n            />\n            <label>Blog body:</label>\n            <textarea\n                required\n                onChange={(e) => setBody(e.target.value)}\n            />\n            <label>Blog author:</label>\n            <select\n                value={author}\n                onChange={(e) => { setAuthor(e.target.value) }}\n            >\n                <option value=\"mario\">mario</option>\n                <option value=\"yoshi\">yoshi</option>\n            </select>\n            {!isPending && <button>Add Blog</button>}\n            {isPending && <button disabled>Adding blog</button>}\n        </form>\n    </div>);\n}\n\nexport default Create;","import { useParams } from \"react-router-dom\";\nimport useFetch from './useFetch';\nimport {useHistory} from 'react-router-dom';\n\nconst BlogDetails = () => {\n    const {id} = useParams();\n    const {data: blog, isPending, error} = useFetch('https://my-json-server.typicode.com/tonyxsun/Petite-Blog/db'+id)\n    const history = useHistory();\n\n    const handleClick = () => {\n        fetch('https://my-json-server.typicode.com/tonyxsun/Petite-Blog/db' + blog.id, {\n            method: 'DELETE'\n        }).then(()=> {\n            history.push('/');\n        })\n    }\n    return ( \n        <div className=\"blog-details\">\n            { isPending && <div> Loading... </div>}\n            { error && <div> {error} </div>}\n            {blog && (\n                <article>\n                    <h2>{blog.title}</h2>\n                    <p>Written by {blog.author}</p>\n                    <div>{blog.body}</div>\n                    <button onClick={handleClick}>Delete</button>\n                </article>\n            )}\n        </div>\n     );\n}\n \nexport default BlogDetails;","import {Link} from 'react-router-dom';\n\nconst NotFound = () => {\n    return ( <div className=\"not-found\">\n        <h2>Sorry</h2>\n        <p>That page cannot be found.</p>\n        <Link to=\"/\">Back to the homepage...</Link>\n    </div> );\n}\n \nexport default NotFound;","import Home from './Home';\nimport Navbar from './Navbar';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport Create from './Create';\nimport BlogDetails from './BlogDetails';\nimport NotFound from './NotFound';\n\nfunction App() {\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <Navbar />\n        <div className=\"content\">\n          <Switch>\n            <Route exact path=\"/\"><Home />\n            </Route>\n            <Route path=\"/create\"><Create />\n            </Route>\n            <Route path=\"/blogs/:id\"><BlogDetails /></Route>\n            <Route path=\"*\"><NotFound /> </Route>\n\n          </Switch>\n        </div>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}